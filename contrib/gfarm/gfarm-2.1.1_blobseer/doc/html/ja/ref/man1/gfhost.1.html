<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>gfhost</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFHOST.1"
></A
>gfhost</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfhost&nbsp;--&nbsp;gfarm ホスト管理コマンド</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="SYNOPSIS"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gfhost</B
> [-H | -l | -M] [-iLprUv] [-a <TT
CLASS="REPLACEABLE"
><I
>アーキテクチャ</I
></TT
>] [-D <TT
CLASS="REPLACEABLE"
><I
>ドメイン名</I
></TT
>] [-j <TT
CLASS="REPLACEABLE"
><I
>並列度</I
></TT
>] [<TT
CLASS="REPLACEABLE"
><I
>ホスト名</I
></TT
>...]</P
><P
><B
CLASS="COMMAND"
>gfhost</B
>  -c   -a<TT
CLASS="REPLACEABLE"
><I
>アーキテクチャ</I
></TT
>  [-n<TT
CLASS="REPLACEABLE"
><I
>CPU数</I
></TT
>]  <TT
CLASS="REPLACEABLE"
><I
>ホスト名</I
></TT
>  [<TT
CLASS="REPLACEABLE"
><I
>ホスト別名</I
></TT
>...]</P
><P
><B
CLASS="COMMAND"
>gfhost</B
>  -m  [-a<TT
CLASS="REPLACEABLE"
><I
>アーキテクチャ</I
></TT
>] [-n<TT
CLASS="REPLACEABLE"
><I
>CPU数</I
></TT
>] [-A]  <TT
CLASS="REPLACEABLE"
><I
>ホスト名</I
></TT
>  [<TT
CLASS="REPLACEABLE"
><I
>ホスト別名</I
></TT
>...]</P
><P
><B
CLASS="COMMAND"
>gfhost</B
>  -d   <TT
CLASS="REPLACEABLE"
><I
>ホスト名</I
></TT
>... </P
><P
><B
CLASS="COMMAND"
>gfhost</B
>  -R </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
><B
CLASS="COMMAND"
>gfhost</B
> は、gfarm のファイルシステムノードに
関する情報の表示や管理を行ないます。<B
CLASS="COMMAND"
>gfhost</B
> が
実行する機能は、-c, -d, -H, -l, -M, -m, -R のオプションで指定します。
これら機能の指定は排他的であり、どれか一つだけを指定することができます。
また、一つも指定しなかった場合には、デフォールトの機能であるホスト名
表示が行なわれます。</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="FUNCTIONS"
></A
><H2
>FUNCTIONS</H2
><P
>  機能指定のうち、-c, -d, -M, -m, -R は LDAP メタデータサーバーのみを
  アクセスし、登録されているホスト情報の追加、削除、表示、変更を行ないます。</P
><P
>  機能指定のうち、-H, -l, -M, および特に機能を指定しなかった場合は、
  ファイルシステムノードに関する情報を表示します。
  このうち -M は LDAP メタデータサーバーのみをアクセスしますが、
  それ以外の機能はファイルシステムノードで動作している
  <B
CLASS="COMMAND"
>gfsd</B
> にもアクセスします。
  <B
CLASS="COMMAND"
>gfsd</B
> にアクセスする機能に関しては、そのアクセスに
  関するオプションを -i, -j, -U, -v で指定できます。</P
><P
>  表示機能に関しては、ホスト名の指定を省略することができます。この場合、
  メタデータに登録されている全てのホストに関する表示を試みます。
  また、-a および -D オプションで表示するホストの種類を限定
  することもできます。
  表示の順序は、ホスト名のアルファベット順ですが、-L, -p, -r オプションで
  順序を変更することができます。ただし、-M 機能
   と、機能を指定しなかった場合 
  に関しては -L オプションは無効です。</P
><P
>  下記は、gfhost コマンドの機能一覧です。二つ以上の機能を同時に
  指定することはできません。</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>無指定</DT
><DD
><P
>	機能を特に指定しなかった場合、<B
CLASS="COMMAND"
>gfsd</B
> への
	問い合わせを行ない、動作しているホストのホスト名のみを表示します。
	デフォールトでは、ホスト名のアルファベット順で表示します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-c</TT
></DT
><DD
><P
>	引数で指定したホストをメタデータへ登録します。
	オプション -a で、そのホストのアーキテクチャを指定する必要があります。
	オプション -n で、そのホストの CPU 数を指定します。省略した場合には
	1 CPU だとみなします。
      </P
><P
>	
	ホスト名は、一つのコマンドで複数記述できます。この場合、最初に
	指定した名前が、そのホストの固有識別子として、複製情報の管理に
	用いられます。残りのホスト名は、そのホストに対する別名として
	扱われます。
      </P
><P
>	あるホストが複数のネットワークインターフェースを持ち、それぞれの
	インターフェースに別々のホスト名が割り当てられている場合、それら
	全てのインターフェースのホスト名を、固有識別子あるいは別名として
	登録してください。
      </P
><P
>	また、/etc/hosts ファイルや NIS の hosts データベースに登録された
	ホスト名が、ドメイン部を含んでないような場合 (/etc/hosts や
	NIS hosts データベースに FQDN が登録されてないような場合) も、
	必ずホストの別名登録が必要となります。このような場合、固有識別子
	としてドメイン名を含むホスト名 (FQDN) を、別名としてドメイン名を
	含まないホスト名を登録してください。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-d</TT
></DT
><DD
><P
>	引数に指定したホスト情報をメタデータから削除します。
	 現在のところ、複製情報として参照されているホストも
	削除できてしまいますが、これを行なうと複製データベースが不整合
	状態となってしまいますので注意が必要です。
	
	ホスト名に指定できるのは  固有識別子のみです。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-H</TT
></DT
><DD
><P
>	<B
CLASS="COMMAND"
>gfsd</B
> に問い合わせて得た情報、すなわち
	ロードアベレージと認証手段を表示します。
	この機能に関しては、引数でホスト名を指定した場合、表示される
	のは、固有識別子として用いられているホスト名ではなく、引数
	で指定した名前になります。
	また、ホスト名の後に、アクセスに用いられた IP アドレスを括弧で
	囲って表示します。
      </P
><P
>	ホストが停止やネットワーク障害のためにアクセスできなかった場合、
	ロードアベレージの部分に x.xx/x.xx/x.xx と表示します。
	ホストが動作しているが、%%SYSCONFDIR%%/gfarm.conf ないし $HOME/.gfarmrc で
	指定されたポートで、そのホストの <B
CLASS="COMMAND"
>gfsd</B
> へ
	アクセスできなかった場合には -.--/-.--/-.-- と表示します。
      </P
><P
>	その次の一桁の欄は認証手段で、「G」は GSI 認証および暗号化、
	「g」は認証処理のみ GSI で認証後は保護のない生データ (gsi_auth)、
	「s」は sharedsecret 認証、「x」は認証失敗、「-」は認証を
	試みなかったことを示します。また、「-U」オプション指定時には、
	この認証手段の表示欄はなくなります。
      </P
><P
>	デフォールトでは、ホスト名のアルファベット順で表示します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-l</TT
></DT
><DD
><P
>	<B
CLASS="COMMAND"
>gfsd</B
> に問い合わせて得た情報、
	すなわちロードアベレージおよび認証手段と、
	メタデータ・サーバーに問い合わせて得た情報、
	すなわちアーキテクチャ名、CPU数およびホスト別名を
	全て表示します。またアクセスに用いられたホスト名の後に、
	IP アドレスを括弧で囲って表示します。
      </P
><P
>	ホストが停止やネットワーク障害のためにアクセスできなかった場合、
	ロードアベレージの部分に x.xx/x.xx/x.xx と表示します。
	ホストが動作しているが、%%SYSCONFDIR%%/gfarm.conf ないし $HOME/.gfarmrc で
	指定されたポートで、そのホストの <B
CLASS="COMMAND"
>gfsd</B
> へ
	アクセスできなかった場合には -.--/-.--/-.-- と表示します。
      </P
><P
>	その次の一桁の欄は認証手段で、「G」は GSI 認証および暗号化、
	「g」は認証処理のみ GSI で認証後は保護のない生データ (gsi_auth)、
	「s」は sharedsecret 認証、「x」は認証失敗、「-」は認証を
	試みなかったことを示します。また、「-U」オプション指定時には、
	この認証手段の表示欄はなくなります。
      </P
><P
>	デフォールトでは、ホスト名のアルファベット順で表示します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-M</TT
></DT
><DD
><P
>	メタデータに登録されているホスト情報を表示します。
	デフォールトでは、ホスト名のアルファベット順で表示します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-m</TT
></DT
><DD
><P
>	固有識別子として用いられているホスト名を指定し、メタデータ
	に登録されているホスト情報を変更します。
	-a オプションおよび -n オプションは、それぞれ既存の値を置き換えます。
	これに対し、ホストの別名に関しては、追加を意味します。
	追加ではなく、別名の置き換えや削除を行ないたい場合には、-A オプション
	を指定してください。この場合、全ての別名を削除してから、(もしあれば)
	引数で指定した別名を追加します。
	
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-R</TT
></DT
><DD
><P
>	標準入力からホストに関する情報を読み込み、メタデータに
	追加します。与える情報の形式は、-M 機能の表示形式と同じです。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-?</TT
></DT
><DD
><P
>引数オプションを表示します。</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="OPTIONS"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-A</TT
></DT
><DD
><P
>	-m 機能でホスト情報を変更する際に、ホストの別名を
	追加ではなく置き換えたい場合に、このオプションを指定します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-a</TT
> <TT
CLASS="PARAMETER"
><I
>アーキテクチャ</I
></TT
></DT
><DD
><P
>	CPUアーキテクチャを、sparc-sun-solaris8 や i386-redhat8.0-linux の
	ような形式で指定します。
	-c および -m 機能の場合には、追加・変更するホストのアーキテクチャと
	して、このオプションを用います。
	-H, -l, -M および特に機能を指定しなかった場合で、かつ
	ホスト名を省略した場合には、指定したアーキテクチャのホストに
	関してのみ表示を行ないます。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-D</TT
> <TT
CLASS="PARAMETER"
><I
>ドメイン名</I
></TT
></DT
><DD
><P
>	-H, -l, -M および特に機能を指定しなかった場合で、かつ
	ホスト名を省略した場合に、このオプションで、表示するドメイン名を
	限定できます。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-i</TT
></DT
><DD
><P
>	%%SYSCONFDIR%%/gfarm.conf ないし $HOME/.gfarmrc 中で「address_use」を指定すると、
	アクセスに用いるネットワークアドレスに優先順位をつけることができます。
	gfhost コマンドに対しても、この優先順位は影響しますが、-i オプションを
	つけると、この指定を無視して <B
CLASS="COMMAND"
>gfsd</B
> にアクセス
	するようになります。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-j</TT
> <TT
CLASS="PARAMETER"
><I
>並列度</I
></TT
></DT
><DD
><P
>	<B
CLASS="COMMAND"
>gfsd</B
> にアクセスする際の並列度を指定します。
	デフォールトは 10 です。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-L</TT
></DT
><DD
><P
>	-H、-l 機能の場合
	、このオプションで、
	表示順序を、ロードアベレージ順に変更します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-n</TT
> <TT
CLASS="PARAMETER"
><I
>CPU数</I
></TT
></DT
><DD
><P
>	-c および -m 機能で、ホスト情報を追加・変更する際に、
	そのホストが持つ CPU の数を指定します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-p</TT
></DT
><DD
><P
>	-H, -l, -M および特に機能を指定しなかった場合に、表示する順序を
	アルファベット順に整列するのを止めます。

	-M 機能の場合、引数でホスト名を指定した場合には
	その順序、さもなくばメタデータから取得した順序で表示します。
	
	-H, -l 機能の場合および特に機能を指定しなかった場合、
	ホストに順に問い合わせを行い、返事の返ってきた順序で表示します。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-r</TT
></DT
><DD
><P
>	表示を整列している場合、表示の順序を逆にします。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-U</TT
></DT
><DD
><P
>	TCP による認証をやめ、
	UDP によるロードアベレージの問い合わせのみを行うようにします。
	このオプションは、-H ないし -l 機能を指定した場合および
	特に機能を指定しなかった場合に意味のあるオプションで、
	実行速度が速くなる効果があります。
	-H ないし -l を指定している場合、このオプションを指定すると、
	認証方式の表示欄がなくなります。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-v</TT
></DT
><DD
><P
>	-H ないし -l 機能を指定した場合および特に機能を指定しなかった場合、
	デフォールトでは、gfsd に対する問い合わせに関するエラーメッセージ
	を表示しません。-v オプションを指定すると、このエラーメッセージを
	表示するようになります。
      </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SEE-ALSO"
></A
><H2
>SEE ALSO</H2
><P
>  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfarm.conf</SPAN
>(5)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfsd</SPAN
>(8)</SPAN
></P
></DIV
></BODY
></HTML
>
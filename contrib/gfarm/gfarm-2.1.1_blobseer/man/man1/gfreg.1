.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFREG" "1" "05 April 2006" "Gfarm" ""
.SH NAME
gfreg \- register a Gfarm file, Gfarm file fragments, or a Gfarm directory
.SH SYNOPSIS

\fBgfreg\fR [ \fB-p \fR ] [ \fB-h \fIfilesystem-node\fB\fR | \fB-H \fIhostfile\fB\fR | \fB-D \fIdomainname\fB\fR ] [ \fB-a \fIarchitecture\fB\fR ] \fB\fIprogram\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR [ \fB-i \fR ] [ \fB-h \fIfilesystem-node\fB\fR | \fB-H \fIhostfile\fB\fR | \fB-D \fIdomainname\fB\fR ] \fB\fIlocalfile\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR \fB-N \fItotal-num-of-fragments\fB\fR \fB-I \fIfragment-index\fB\fR [ \fB-h \fIfilesystem-node\fB\fR | \fB-H \fIhostfile\fB\fR | \fB-D \fIdomainname\fB\fR ] \fB\fIlocalfile\fB\fR \fB...\fR \fB\fIgfarm-URL\fB\fR


\fBgfreg\fR \fB-r\fR [ \fB-h \fIfilesystem-node\fB\fR | \fB-H \fIhostfile\fB\fR | \fB-D \fIdomainname\fB\fR ] [ \fB-a \fIarchitecture\fB\fR ] [ \fB\fIdirectory\fB\fR | \fB\fIprogram\fB\fR | \fB\fIlocalfile\fB\fR ] \fB...\fR \fB\fIgfarm-URL\fB\fR

.SH "DESCRIPTION"
.PP
The first form copies and registers the
\fIprogram\fR as a Gfarm file
\fIgfarm-URL\fR in the Gfarm filesystem.  When
\fIgfarm-URL\fR is a directory, multiple programs
can be specified.  After the registration, the
\fIgfarm-URL\fR can be specified as a program name of
gfrun(1) and gfmpirun_p4(1).  Without the \fB-p\fR option,
only executable file can be specified.  With the \fB-p\fR
option, non-executable file can be specified as well.  Without the
\fB-a\fR option or the \fB-h\fR
option, architecture of the \fIprogram\fR is assumed
to be the same architecture as the client host on that gfreg(1) is
executed, which is obtained by the Gfarm metaserver.
.PP
The second form registers one or more
\fIlocalfile\fRs as a single Gfarm file.  Without the
\fB-i\fR option, only non-executable file can be specified
as \fIlocalfile\fR.  With the \fB-i\fR
option, both excutable and non-executable file can be specified as
\fIlocalfile\fR. 
The destination filesystem node will be automatically selected by CPU
load average.  With any one of \fB-h\fR, \fB-H\fR, 
\fB-D\fR options, filesystem node can be limited.
.PP
The third form registers \fIlocalfile\fR as a
file fragment of a Gfarm file.  The total number of fragments and the
fragment index are specified by the \fB-N\fR option and the
\fB-I\fR option, respectively.  When
\fIgfarm-URL\fR is a directory, multiple
\fIlocalfile\fRs can be specified.
The destination filesystemnode will be automatically decided by CPU
load average unless any one of \fB-h\fR,
\fB-H\fR, \fB-D\fR options is explicitly
specified.  When the gfreg command of this form is executed on a
filesystem node, the local filesystem node is always selected rather
than a remote filesystemnode.  In this case, \fB-h\fR,
\fB-H\fR, \fB-D\fR options help to store files
dispersively.
.PP
The fourth form registers the \fIdirectory\fR
as a Gfarm directory \fIgfarm-URL\fR, the
\fIprogram\fR or the \fIlocalfile\fR
as a Gfarm file \fIgfarm-URL\fR.
If \fIdirectory\fR have some sub directories and/or
files, they will be registered recursively.  The non-executable file 
\fIlocalfile\fR will be registered as a file has
one fragment.  A non-executable file in the
\fIdirectory\fR will be registered in the same way.
When \fIgfarm-URL\fR already exists as a directory,
multiple \fIdirectorie\fRs,
\fIprogram\fRs, and \fIlocalfile\fRs
can be specified and they will be registered in
\fIgfarm-URL\fR.  They can be mixed in parameteres,
while other forms inhibit this manner.
If \fIgfarm-URL\fR does not exist, one
\fIdirectory\fR or one
\fIprogram\fR, or one
\fIlocalfile\fR can be specified and it will be
registered as \fIgfarm-URL\fR.
Refer to the first form's part above to specify filesystem node
thatprogfarms and files will reside with the \fB-a\fR
option or the \fB-h\fR option.
.SH "OPTIONS"
.TP
\fB-f\fR
overwrites gfarm-URL even if it exits as a Gfarm file.
.TP
\fB-?\fR
displays a list of command options.
